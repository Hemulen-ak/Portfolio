<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arun Karki | Portfolio</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">

    <!-- Core Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/@studio-freight/lenis@1.0.29/dist/lenis.min.js"></script>


<body>
    <div id="canvas-container"></div>

    <!-- Floating Dock Navigation -->
    <nav class="dock-nav">
        <a href="index.html" class="dock-link active" data-tooltip="Cover"><i class="ri-home-fill"></i></a>
        <a href="work.html" class="dock-link" data-tooltip="Gallery"><i class="ri-grid-fill"></i></a>
        <a href="imak.html" class="dock-link" data-tooltip="Brand"><i class="ri-palette-fill"></i></a>
        <a href="about.html" class="dock-link" data-tooltip="Story"><i class="ri-user-smile-fill"></i></a>
        <a href="contact.html" class="dock-link" data-tooltip="Connect"><i class="ri-mail-send-fill"></i></a>
    </nav>

    <div class="board-container">

        <header class="cover-hero">
            <!-- Decorative Stickers -->
            <div class="sticker sticker-1"
                style="background:#000; height:100px; width:100px; border-radius:50%; display:flex; align-items:center; justify-content:center; color:#fff; font-weight:bold;">
                Hello.</div>
            <div class="sticker sticker-2"
                style="background:var(--neon-lime); height:120px; width:120px; display:flex; align-items:center; justify-content:center; font-weight:bold; border:2px solid #000;">
                Open<br>to Work</div>

            <div class="cover-content">
                <p
                    style="font-family:var(--font-body); text-transform:uppercase; letter-spacing:2px; margin-bottom:1rem;">
                    The Portfolio of</p>
                <h1 class="cover-title">
                    <span>ARUN KARKI</span>
                    <span class="highlight">EDUCATOR</span>
                    <span>& DREAMER</span>
                </h1>
                <p style="max-width:500px; margin:0 auto; font-size:1.1rem; color:var(--ink-light);">
                    I create by myself. Building tools, writing stories, and teaching others to do the same.
                </p>

                <div style="display:flex; gap:1rem; justify-content:center; margin-top:2rem;">
                    <a href="work.html" class="btn-editorial">Explore Gallery</a>
                    <a href="cv.html" class="btn-editorial"
                        style="background:transparent; color:var(--text-dark); border:1px solid var(--text-dark);">View
                        Resume</a>
                </div>
            </div>
        </header>

    </div>

    <!-- CORE LIBRARIES -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/@studio-freight/lenis@1.0.29/dist/lenis.min.js"></script>

    <!-- INLINE ENGINE -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            console.log("System Online: Initializing Immersive Engine...");

            // 1. Init Smooth Scroll
            try {
                const lenis = new Lenis({ duration: 1.2, easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)), direction: 'vertical', smooth: true });
                function raf(time) { lenis.raf(time); requestAnimationFrame(raf); }
                requestAnimationFrame(raf);
            } catch (e) { console.error("Lenis Failed:", e); }

            // 2. Init ThreeJS
            try {
                const container = document.getElementById('canvas-container');
                if (container) {
                    const scene = new THREE.Scene();
                    scene.fog = new THREE.FogExp2(0xF3F0EB, 0.002);

                    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 1000);
                    camera.position.z = 100;
                    camera.position.y = 50;

                    const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
                    renderer.setSize(window.innerWidth, window.innerHeight);
                    renderer.setPixelRatio(window.devicePixelRatio);
                    container.appendChild(renderer.domElement);

                    const particleCount = 700;
                    const particles = new THREE.Group();
                    const geometry = new THREE.CircleGeometry(0.5, 5);
                    const material = new THREE.MeshBasicMaterial({ color: 0x121212 });

                    const dots = [];
                    const rows = 25;
                    const cols = 28;
                    const separation = 8;

                    for (let x = 0; x < cols; x++) {
                        for (let z = 0; z < rows; z++) {
                            const mesh = new THREE.Mesh(geometry, material);
                            mesh.position.x = (x * separation) - ((cols * separation) / 2);
                            mesh.position.z = (z * separation) - ((rows * separation) / 2);
                            mesh.position.y = 0;
                            particles.add(mesh);
                            dots.push({ mesh, x: x, z: z });
                        }
                    }
                    scene.add(particles);

                    let mouseX = 0;
                    let mouseY = 0;
                    let time = 0;

                    document.addEventListener('mousemove', (e) => {
                        mouseX = (e.clientX / window.innerWidth) * 2 - 1;
                        mouseY = -(e.clientY / window.innerHeight) * 2 + 1;
                    });

                    const animate = () => {
                        requestAnimationFrame(animate);
                        time += 0.05;
                        dots.forEach(dot => {
                            const waveY = Math.sin((dot.x * 0.5) + time) * 2 + Math.cos((dot.z * 0.3) + time) * 2;
                            dot.mesh.position.y = waveY;
                            const scale = (Math.sin((dot.x * 0.5) + time) + 2) * 0.5;
                            dot.mesh.scale.set(scale, scale, scale);
                        });
                        camera.position.x += (mouseX * 20 - camera.position.x) * 0.05;
                        camera.position.y += (50 + mouseY * 10 - camera.position.y) * 0.05;
                        camera.lookAt(scene.position);
                        renderer.render(scene, camera);
                    };
                    animate();

                    window.addEventListener('resize', () => {
                        camera.aspect = window.innerWidth / window.innerHeight;
                        camera.updateProjectionMatrix();
                        renderer.setSize(window.innerWidth, window.innerHeight);
                    });
                }
            } catch (e) { console.error("ThreeJS Failed:", e); }

            // 3. Magnetic & Animations
            try {
                const dockIcons = document.querySelectorAll('.dock-link');
                dockIcons.forEach(icon => {
                    icon.addEventListener('mousemove', (e) => {
                        const rect = icon.getBoundingClientRect();
                        const x = e.clientX - rect.left - rect.width / 2;
                        const y = e.clientY - rect.top - rect.height / 2;
                        gsap.to(icon, { x: x * 0.5, y: y * 0.5, duration: 0.3, ease: 'power2.out' });
                    });
                    icon.addEventListener('mouseleave', () => {
                        gsap.to(icon, { x: 0, y: 0, duration: 0.5, ease: 'elastic.out(1, 0.4)' });
                    });
                });

                gsap.registerPlugin(ScrollTrigger);
                const coverTitle = document.querySelector('.cover-title');
                if (coverTitle) {
                    gsap.from(coverTitle.children, { y: 100, opacity: 0, duration: 1.2, stagger: 0.2, ease: 'power4.out', delay: 0.2 });
                }
            } catch (e) { console.error("GSAP Failed:", e); }
        });
    </script>
</body>

</html>